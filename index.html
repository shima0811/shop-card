<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- CSS only -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <title>Document</title>

</head>

<body>
    <div class="shopping">
        <div class="shop-content col-sm-6 col-md-4 col-lg-3 col-xl-2">
            <figure><img src="img/product_01.png" alt=""></figure>
            <div class="detail"><span class="namecard">Lorem, ipsum.</span><span class="price">4500$</span>
                <span class="add">add to card</span>
            </div>
        </div>
        <div class="shop-content col-sm-6 col-md-4 col-lg-3 col-xl-2">
            <figure><img src="img/product_02.png" alt=""></figure>
            <div class="detail"><span class="namecard">Lorem, ipsum.</span><span class="price">5000$</span>
                <span class="add">add to card</span>
            </div>
        </div>
        <div class="shop-content col-sm-6 col-md-4 col-lg-3 col-xl-2">
            <figure><img src="img/product_03.png" alt=""></figure>
            <div class="detail"><span class="namecard">Lorem, ipsum.</span><span class="price">2200$</span>
                <span class="add">add to card</span>
            </div>
        </div>
        <div class="shop-content col-sm-6 col-md-4 col-lg-3 col-xl-2">
            <figure><img src="img/product_04.png" alt=""></figure>
            <div class="detail"><span class="namecard">Lorem, ipsum.</span><span class="price">3000$</span>
                <span class="add">add to card</span>
            </div>
        </div>
        <div class="shop-content col-sm-6 col-md-4 col-lg-3 col-xl-2">
            <figure><img src="img/product_05.png" alt=""></figure>
            <div class="detail"><span class="namecard">Lorem, ipsum.</span><span class="price">6700$</span>
                <span class="add">add to card</span>
            </div>
        </div>
        <div class="shop-content col-sm-6 col-md-4 col-lg-3 col-xl-2">
            <figure><img src="img/product_06.png" alt=""></figure>
            <div class="detail"><span class="namecard">Lorem, ipsum.</span><span class="price">2000$</span>
                <span class="add">add to card</span>
            </div>
        </div>
        <div class="shop-content col-sm-6 col-md-4 col-lg-3 col-xl-2">
            <figure><img src="img/product_07.png" alt=""></figure>
            <div class="detail"><span class="namecard">Lorem, ipsum.</span><span class="price">5500$</span>
                <span class="add">add to card</span>
            </div>
        </div>
        <div class="shop-content col-sm-6 col-md-4 col-lg-3 col-xl-2">
            <figure><img src="img/product_08.png" alt=""></figure>
            <div class="detail"><span class="namecard">Lorem, ipsum.</span><span class="price">2200$</span>
                <span class="add">add to card</span>
            </div>
        </div>
        <div class="shop-content col-sm-6 col-md-4 col-lg-3 col-xl-2">
            <figure><img src="img/product_09.png" alt=""></figure>
            <div class="detail"><span class="namecard">Lorem, ipsum.</span><span class="price">1200$</span>
                <span class="add">add to card</span>
            </div>
        </div>
        <div class="shop-content col-sm-6 col-md-4 col-lg-3 col-xl-2">
            <figure><img src="img/product_10.png" alt=""></figure>
            <div class="detail"><span class="namecard">Lorem, ipsum.</span><span class="price">2000$</span>
                <span class="add">add to card</span>
            </div>
        </div>
        <div class="shop-content col-sm-6 col-md-4 col-lg-3 col-xl-2">
            <figure><img src="img/product_11.png" alt=""></figure>
            <div class="detail"><span class="namecard">Lorem, ipsum.</span><span class="price">4500$</span>
                <span class="add">add to card</span>
            </div>
        </div>
        <div class="shop-content col-sm-6 col-md-4 col-lg-3 col-xl-2">
            <figure><img src="img/product_12.png" alt=""></figure>
            <div class="detail"><span class="namecard">Lorem, ipsum.</span><span class="price">6700$</span>
                <span class="add">add to card</span>
            </div>
        </div>
    </div>

    <div class="card">
        <i onclick=chenge(this) class="bi bi-arrow-left"></i>
        <ul id="card-shopping">
        </ul>
        <hr>
        <div id="counter"></div>
    </div>
</body>
<script>
    let _card = document.querySelectorAll(".shop-content")
    let _add = document.querySelectorAll(".add")
    let _shopcard = document.getElementById("card-shopping")
    let _shopcontainer = document.querySelector('.card')
    let _counter = []
    _totalp = 0
    let _allcount
    for (let i = 0; i < _card.length; i++) {
        _counter[i] = 0
    }


    for (let i = 0; i < _card.length; i++) {
        let self = _card[i]
        self.addEventListener("mouseover", function show() {
            _add[i].classList.add("show")
        })
        self.addEventListener("mouseout", function hide() {
            _add[i].classList.remove("show")
        })
    }
    _add.forEach((item, index) => {
        item.addEventListener("click", function addtocard(item) {
            _counter[index]++
            let _price = _card[index].children[1].children[1].innerText
            let _new_li = document.createElement("li")
            let _src = _card[index].children[0].children[0].getAttribute("src")
            let _caption = _card[index].children[1].children[0].innerHTML

            if (_counter[index] == 1) {

                _new_li.innerHTML =
                    `<figure><img src='${_src}' ></figure><div class='caption'>
            <div>${_caption}</div><div>${_price}</div></div><div class="counter" id="counter${index}">${_counter[index]}</div>`
                _shopcard.appendChild(_new_li)
            } else if (_counter[index] > 1) {
                document.getElementById("counter" + index).innerHTML = _counter[index]
            }
            _allcount = _counter.reduce((a, b) => {
                return a + b;
            }, 0)
            _totalp += parseInt(_price)
            document.getElementById("counter").innerHTML = `total price = ${_totalp}`
            _shopcontainer.classList.add("chenge")
            document.getElementsByClassName("bi")[0].classList.add("rotate")

        })
    })

    function chenge(self) {
        console.log(self)
        self.classList.toggle("rotate")
        _shopcontainer.classList.toggle("chenge")
    }
</script>

</html>